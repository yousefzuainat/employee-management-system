# ุชูุซูู ุงููุธุงู ุงูุดุงูู - YousefZuaianatAPI

ููุซู ูุฐุง ุงูููู ุงููููููุฉ ุงููุงููุฉ ูููุธุงูุ ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ูุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู ุจุงูุชูุตูู.

---

## ๐๏ธ 1. ูููููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช (Database Schema)

ูุชููู ุงููุธุงู ูู ุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ ุงูุชุงููุฉ:

### 1- ุฌุฏูู ุงููุณุชุฎุฏููู (`Users`)

ูู ุงูุฌุฏูู ุงููุฑูุฒู ุงูุฐู ูุฑุจุท ุงูุฌููุน.

- **Id**: ุงููุนุฑู ุงููุฑูุฏ.
- **Name**: ุงุณู ุงููุณุชุฎุฏู.
- **Email**: ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ูุชุณุฌูู ุงูุฏุฎูู).
- **PasswordHash**: ูููุฉ ุงููุฑูุฑ (ุญุงููุงู ูุต ุนุงุฏูุ ูุฌุจ ุชุดููุฑูุง ูุงุญูุงู).
- **Role**: ุฏูุฑ ุงููุณุชุฎุฏู (Admin, HR, Manager, Employee...).
- **DepartmentId**: ุงููุณู ุงูุฐู ูุชุจุน ูู.
- **ManagerId**: ุงููุฏูุฑ ุงููุจุงุดุฑ ูู.

### 2- ุฌุฏูู ุงูุดุฑูุงุช (`Companies`)

ูุชุนุฏุฏ ุงูุดุฑูุงุช (Multi-tenancy).

- **Name**: ุงุณู ุงูุดุฑูุฉ.

### 3- ุฌุฏูู ุงูุฃูุณุงู (`Departments`)

- **Name**: ุงุณู ุงููุณู (ูุซู: ุงูุชูููุฉุ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ).
- **ManagerId**: ูุฏูุฑ ุงููุณู.

### 4- ุฌุฏูู ุงูุทูุจุงุช (`Requests`)

ูุฅุฏุงุฑุฉ ุงูุฅุฌุงุฒุงุช ูุงูุณูู ุงููุงููุฉ.

- **RequestType**: ููุน ุงูุทูุจ (ุฅุฌุงุฒุฉ `Leave`ุ ุณููุฉ `Advance`).
- **Status**: ุญุงูุฉ ุงูุทูุจ (ููุฏ ุงูุงูุชุธุงุฑุ ููุจููุ ูุฑููุถ).
- **Amount**: ุงููุจูุบ (ูู ุญุงู ุงูุณููุฉ).
- **Description**: ูุตู ุฃู ุณุจุจ ุงูุทูุจ.

### 5- ุฌุฏูู ุงูููุงู (`UserTasks`)

ููููุงู ุงูุชู ูุฑุณููุง ุงููุฏูุฑ ููููุธู.

- **Description**: ุชูุงุตูู ุงููููุฉ.
- **Status**: ุญุงูุฉ ุงููููุฉ (ููุฏ ุงูุงูุชุธุงุฑุ ููุจููุฉุ ูุฑููุถุฉ).
- **RejectionReason**: ุณุจุจ ุงูุฑูุถ (ุฅุฌุจุงุฑู ุนูุฏ ุงูุฑูุถ).
- **DueDate**: ุชุงุฑูุฎ ุงูุงุณุชุญูุงู.

### 6- ุฌุฏูู ุงูุญุถูุฑ (`Attendances`)

ูุชุชุจุน ุฏูุงู ุงูููุธููู ููููุงู.

- **Date**: ุชุงุฑูุฎ ุงูููู.
- **CheckInTime**: ููุช ุงูุฏุฎูู.
- **CheckOutTime**: ููุช ุงูุฎุฑูุฌ.
- **WorkHours**: ุนุฏุฏ ุณุงุนุงุช ุงูุนูู ุงููุญุณูุจุฉ.
- **Status**: (ุญุงุถุฑ `Present`ุ ุบุงุฆุจ `Absent`ุ ูุชุฃุฎุฑ `Late`).

### 7- ุฌุฏูู ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช (`LeaveBalances`)

ูุชุชุจุน ุฃูุงู ุงูุฅุฌุงุฒุงุช ุงููุชุจููุฉ ููู ููุธู.

- **Total**: ุงูุฑุตูุฏ ุงูููู (ูุซูุงู 21 ููู).
- **Remaining**: ุงูุฑุตูุฏ ุงููุชุจูู (ูุชู ุงูุฎุตู ููู ุนูุฏ ูุจูู ุงูุฅุฌุงุฒุงุช).

---

## ๐ฌ 2. ุณููุงุฑูููุงุช ุงููุธุงู (User Stories & Scenarios)

### ุฃููุงู: ุณููุงุฑูู ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ (HR) ๐

#### 1. ุชููุฆุฉ ุงูููู (ุจุฏุงูุฉ ุงูุฏูุงู)

- **ุงูุฅุฌุฑุงุก**: ูููู ุงูู HR ุจุถุฑุจ ุฒุฑ `InitializeDailyAttendance`.
- **ูุงุฐุง ูุญุฏุซุ**:
  - ุงููุธุงู ููุญุต ุฌููุน ุงููุณุชุฎุฏููู (ูุง ุนุฏุง ุงูู HR).
  - ูููู ุจุฅูุดุงุก ุณุฌู **"ุบุงุฆุจ" (Absent)** ููู ูุงุญุฏ ูููู ูุชุงุฑูุฎ ุงูููู.
  - **ุงููุฏู**: ูู ููุณู ุงูุญุถูุฑ ูุธู ุบุงุฆุจุงู ุชููุงุฆูุงู.

#### 2. ุทุจุงุนุฉ ููุฏ ุงูุญุถูุฑ (QR Code)

- **ุงูุฅุฌุฑุงุก**: ูุทูุจ ุงูู HR ุฑุงุจุท `CreateDailyQRCode`.
- **ูุงุฐุง ูุญุฏุซุ**:
  - ูููุฏ ุงููุธุงู ุตูุฑุฉ QR ูุดูุฑุฉ ุชุญุชูู ุนูู: `ุงุณู_ุงููุธุงู + ุงูุชุงุฑูุฎ_ุงูููู + ุงูููุช_ุงูุญุงูู`.
  - ูุชู ุนุฑุถ ุงูุตูุฑุฉ ููููุธููู ุนูุฏ ุงููุฏุฎู ููุณุญูุง.

#### 3. ุฅุฏุงุฑุฉ ุงูุณูู ุงููุงููุฉ

- **ุงูุฅุฌุฑุงุก**: ูุณุชุนุฑุถ ุงูู HR ุงูุทูุจุงุช ุงููุนููุฉ ูู ููุน "ุณููุฉ" (`RequestType.Advance`).
- **ูุงุฐุง ูุญุฏุซุ**: ููุงูู ุนูููุง ุฃู ูุฑูุถูุง. (ูุง ูุชู ุฎุตู ุฑุตูุฏ ุฅุฌุงุฒุงุช ููุงุ ูุฐู ูุนุงููุฉ ูุงููุฉ).

---

### ุซุงููุงู: ุณููุงุฑูู ูุฏูุฑ ุงููุณู (Department Manager) ๐ผ

#### 1. ุฅุณูุงุฏ ุงูููุงู

- **ุงูุฅุฌุฑุงุก**: ูุทูุจ ุงููุฏูุฑ `AssignTask` ููุฏุฎู (ุฑูู ุงูููุธูุ ูุตู ุงููููุฉ).
- **ุงูุดุฑูุท**: ูุณูุญ ูู ููุท ุจุฅุณูุงุฏ ููุงู ูููุธููู **ุฏุงุฎู ูุณูู**.
- **ุงููุชูุฌุฉ**: ุชุตู ุงููููุฉ ููููุธู ุจุญุงูุฉ "ููุฏ ุงูุงูุชุธุงุฑ".

#### 2. ุงูููุงููุฉ ุนูู ุงูุฅุฌุงุฒุงุช

- **ุงูุฅุฌุฑุงุก**: ูุณุชุนุฑุถ ุงูุทูุจุงุช ุงููุนููุฉ ูู ููุน "ุฅุฌุงุฒุฉ" (`RequestType.Leave`).
- **ุนูุฏ ุงูููุงููุฉ (Approve)**:
  1.  ูุชุญูู ุงููุธุงู ูู ุฌุฏูู `LeaveBalances` ููููุธู.
  2.  ุฅุฐุง ูุงู ุฃูู ุทูุจ -> ููุดุฆ ูู ุฑุตูุฏ (21 ููู) ููุฎุตู ููู.
  3.  ุฅุฐุง ูุงู ูู ุฑุตูุฏ ุณุงุจู -> ูุฎุตู ูู ุงููุชุจูู.
  4.  ุฅุฐุง ูุงู ุงูุฑุตูุฏ ูุง ูููู -> ูููุน ุงูููุงููุฉ ููุฑุฌุน ุฎุทุฃ.

---

### ุซุงูุซุงู: ุณููุงุฑูู ุงูููุธู (Employee) ๐ทโโ๏ธ

#### 1. ุชุณุฌูู ุงูุญุถูุฑ (Check-In)

- **ุงูุฅุฌุฑุงุก**: ุงูููุธู ููุชุญ ุงูุชุทุจูู ูููุณุญ ุงูู QR Code ุนูุฏ ุงูุจุงุจ.
- **ุงูุชุญููู**:
  - ููู ุงููุธุงู ุชุดููุฑ ุงูู QR ููุณุชุฎุฑุฌ ููุช ุฅูุดุงุฆู.
  - ููุงุฑู ููุช ุงูุฅูุดุงุก ุจููุช ุงููุณุญ ุงูุญุงูู.
  - **ุงููุฑู > ุณุงุนุชููุ** -> ูุณุฌู ุงูุญุงูุฉ **ุชุฃุฎูุฑ (Late)**.
  - **ุงููุฑู < ุณุงุนุชููุ** -> ูุณุฌู ุงูุญุงูุฉ **ุญุถูุฑ (Present)**.
  - ูููู ุงููุธุงู ุจุชุนุฏูู ุฎุงูุฉ "ุบุงุฆุจ" ุงูุชู ูุถุนูุง ุงูู HR ุตุจุงุญุงู ุฅูู ุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ.

#### 2. ุชุณุฌูู ุงูุงูุตุฑุงู (Check-Out)

- **ุงูุฅุฌุฑุงุก**: ููุณุญ ุงูููุธู ุงูู QR Code ูุฑุฉ ุซุงููุฉ ุนูุฏ ุงููุบุงุฏุฑุฉ.
- **ุงูุชุญููู**:
  - ูุฌุฏ ุงููุธุงู ุฃู ุงูููุธู ูุงู ุจุงูุฏุฎูู ูุณุจูุงู.
  - ูููู ุจุชุณุฌูู ููุช ุงูุฎุฑูุฌ (`CheckOutTime`).
  - ูุญุณุจ ุณุงุนุงุช ุงูุนูู (ุฎุฑูุฌ - ุฏุฎูู) ููุญูุธูุง.

#### 3. ุงูุชุนุงูู ูุน ุงูููุงู

- ูุณุชุนุฑุถ ููุงูู ุงูุฎุงุตุฉ (`My-Task`).
- ููุจู ุงููููุฉ ุฃู ูุฑูุถูุง.
- ูู ุญุงู ุงูุฑูุถุ **ูุฌุจ** ุนููู ูุชุงุจุฉ ุณุจุจ ุงูุฑูุถ (`RejectionReason`).

#### 4. ุชูุฏูู ุงูุทูุจุงุช

- ูุทูุจ "ุฅุฌุงุฒุฉ" -> ุชุฐูุจ ููุฏูุฑ ุงููุณู.
- ูุทูุจ "ุณููุฉ" -> ุชุฐูุจ ููู HR.
